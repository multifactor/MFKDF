<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>MFKDFDerivedKey - Documentation | Multi-Factor Key Derivation Function (MFKDF) | JavaScript</title>
    
    <meta name="description" content="Documentation for the JavaScript implementation of the Multi-Factor Key Derivation Function (MFKDF)." />
    
    
    
    <meta property="og:title" content="Documentation | Multi-Factor Key Derivation Function (MFKDF) | JavaScript"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content=""/>
    
    <meta property="og:url" content="https://mfkdf.com/docs"/>
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav class="wrap">
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h2><a href="https://mfkdf.com" >Project Website</a></h2><h2><a href="https://github.com/multifactor/MFKDF" >GitHub Repository</a></h2><h3>Tutorials</h3><ul><li><a href="tutorial-01quickstart.html">Getting Started</a></li><li><a href="tutorial-02mfkdf.html">Multi-Factor Key Derivation</a></li><li><a href="tutorial-03threshold.html">Threshold-based Key Derivation</a></li><li><a href="tutorial-04stacking.html">Key Stacking</a></li><li><a href="tutorial-05policy.html">Policy-based Key Derivation</a></li><li><a href="tutorial-06entropy.html">Entropy Estimation</a></li><li><a href="tutorial-07reconstitution.html">Recovery & Reconstitution</a></li><li><a href="tutorial-08persistence.html">Factor Persistence</a></li><li><a href="tutorial-09crypto.html">Cryptographic Operations</a></li><li><a href="tutorial-10enveloping.html">Enveloped Secrets</a></li><li><a href="tutorial-11auth.html">Authentication using MFKDF</a></li></ul><h3>Namespaces</h3><ul><li><a href="auth.html">auth</a><ul class='methods'><li data-type='method'><a href="auth.html#.VerifyISO97982PassUnilateralAuthSymmetric">VerifyISO97982PassUnilateralAuthSymmetric</a></li><li data-type='method'><a href="auth.html#.VerifyISO97982PassUnilateralAuthAsymmetric">VerifyISO97982PassUnilateralAuthAsymmetric</a></li><li data-type='method'><a href="auth.html#.VerifyISO97982PassUnilateralAuthCCF">VerifyISO97982PassUnilateralAuthCCF</a></li><li data-type='method'><a href="auth.html#.VerifyISO97981PassUnilateralAuthSymmetric">VerifyISO97981PassUnilateralAuthSymmetric</a></li><li data-type='method'><a href="auth.html#.VerifyISO97981PassUnilateralAuthAsymmetric">VerifyISO97981PassUnilateralAuthAsymmetric</a></li><li data-type='method'><a href="auth.html#.VerifyISO97981PassUnilateralAuthCCF">VerifyISO97981PassUnilateralAuthCCF</a></li></ul></li><li><a href="derive.factors.html">derive.factors</a><ul class='methods'><li data-type='method'><a href="derive.factors.html#.hmacsha1">hmacsha1</a></li><li data-type='method'><a href="derive.factors.html#.hotp">hotp</a></li><li data-type='method'><a href="derive.factors.html#.ooba">ooba</a></li><li data-type='method'><a href="derive.factors.html#.password">password</a></li><li data-type='method'><a href="derive.factors.html#.persisted">persisted</a></li><li data-type='method'><a href="derive.factors.html#.question">question</a></li><li data-type='method'><a href="derive.factors.html#.stack">stack</a></li><li data-type='method'><a href="derive.factors.html#.totp">totp</a></li><li data-type='method'><a href="derive.factors.html#.uuid">uuid</a></li></ul></li><li><a href="derive.html">derive</a><ul class='methods'><li data-type='method'><a href="derive.html#.key">key</a></li></ul></li><li><a href="policy.html">policy</a><ul class='methods'><li data-type='method'><a href="policy.html#.derive">derive</a></li><li data-type='method'><a href="policy.html#.evaluate">evaluate</a></li><li data-type='method'><a href="policy.html#.or">or</a></li><li data-type='method'><a href="policy.html#.and">and</a></li><li data-type='method'><a href="policy.html#.all">all</a></li><li data-type='method'><a href="policy.html#.any">any</a></li><li data-type='method'><a href="policy.html#.atLeast">atLeast</a></li><li data-type='method'><a href="policy.html#.setup">setup</a></li><li data-type='method'><a href="policy.html#.ids">ids</a></li><li data-type='method'><a href="policy.html#.validate">validate</a></li></ul></li><li><a href="secrets.html">secrets</a><ul class='methods'><li data-type='method'><a href="secrets.html#.combine">combine</a></li><li data-type='method'><a href="secrets.html#.recover">recover</a></li><li data-type='method'><a href="secrets.html#.share">share</a></li></ul></li><li><a href="setup.factors.html">setup.factors</a><ul class='methods'><li data-type='method'><a href="setup.factors.html#.hmacsha1">hmacsha1</a></li><li data-type='method'><a href="setup.factors.html#.hotp">hotp</a></li><li data-type='method'><a href="setup.factors.html#.ooba">ooba</a></li><li data-type='method'><a href="setup.factors.html#.password">password</a></li><li data-type='method'><a href="setup.factors.html#.question">question</a></li><li data-type='method'><a href="setup.factors.html#.stack">stack</a></li><li data-type='method'><a href="setup.factors.html#.totp">totp</a></li><li data-type='method'><a href="setup.factors.html#.uuid">uuid</a></li></ul></li><li><a href="setup.html">setup</a><ul class='methods'><li data-type='method'><a href="setup.html#.kdf">kdf</a></li><li data-type='method'><a href="setup.html#.key">key</a></li></ul></li></ul><h3>Classes</h3><ul><li><a href="MFKDFDerivedKey.html">MFKDFDerivedKey</a><ul class='methods'><li data-type='method'><a href="MFKDFDerivedKey.html#.ISO97982PassUnilateralAuthSymmetric">ISO97982PassUnilateralAuthSymmetric</a></li><li data-type='method'><a href="MFKDFDerivedKey.html#.ISO97982PassUnilateralAuthAsymmetric">ISO97982PassUnilateralAuthAsymmetric</a></li><li data-type='method'><a href="MFKDFDerivedKey.html#.ISO97982PassUnilateralAuthCCF">ISO97982PassUnilateralAuthCCF</a></li><li data-type='method'><a href="MFKDFDerivedKey.html#.ISO97981PassUnilateralAuthSymmetric">ISO97981PassUnilateralAuthSymmetric</a></li><li data-type='method'><a href="MFKDFDerivedKey.html#.ISO97981PassUnilateralAuthAsymmetric">ISO97981PassUnilateralAuthAsymmetric</a></li><li data-type='method'><a href="MFKDFDerivedKey.html#.ISO97981PassUnilateralAuthCCF">ISO97981PassUnilateralAuthCCF</a></li><li data-type='method'><a href="MFKDFDerivedKey.html#.ISO9798SymmetricKey">ISO9798SymmetricKey</a></li><li data-type='method'><a href="MFKDFDerivedKey.html#.ISO9798AsymmetricKey">ISO9798AsymmetricKey</a></li><li data-type='method'><a href="MFKDFDerivedKey.html#.ISO9798CCFKey">ISO9798CCFKey</a></li><li data-type='method'><a href="MFKDFDerivedKey.html#.getSubkey">getSubkey</a></li><li data-type='method'><a href="MFKDFDerivedKey.html#.getSymmetricKey">getSymmetricKey</a></li><li data-type='method'><a href="MFKDFDerivedKey.html#.getAsymmetricKeyPair">getAsymmetricKeyPair</a></li><li data-type='method'><a href="MFKDFDerivedKey.html#.sign">sign</a></li><li data-type='method'><a href="MFKDFDerivedKey.html#.verify">verify</a></li><li data-type='method'><a href="MFKDFDerivedKey.html#.encrypt">encrypt</a></li><li data-type='method'><a href="MFKDFDerivedKey.html#.decrypt">decrypt</a></li><li data-type='method'><a href="MFKDFDerivedKey.html#.addEnvelopedSecret">addEnvelopedSecret</a></li><li data-type='method'><a href="MFKDFDerivedKey.html#.hasEnvelopedSecret">hasEnvelopedSecret</a></li><li data-type='method'><a href="MFKDFDerivedKey.html#.removeEnvelopedSecret">removeEnvelopedSecret</a></li><li data-type='method'><a href="MFKDFDerivedKey.html#.addEnvelopedKey">addEnvelopedKey</a></li><li data-type='method'><a href="MFKDFDerivedKey.html#.getEnvelopedSecret">getEnvelopedSecret</a></li><li data-type='method'><a href="MFKDFDerivedKey.html#.getEnvelopedKey">getEnvelopedKey</a></li><li data-type='method'><a href="MFKDFDerivedKey.html#.persistFactor">persistFactor</a></li><li data-type='method'><a href="MFKDFDerivedKey.html#.setThreshold">setThreshold</a></li><li data-type='method'><a href="MFKDFDerivedKey.html#.removeFactor">removeFactor</a></li><li data-type='method'><a href="MFKDFDerivedKey.html#.removeFactors">removeFactors</a></li><li data-type='method'><a href="MFKDFDerivedKey.html#.addFactor">addFactor</a></li><li data-type='method'><a href="MFKDFDerivedKey.html#.addFactors">addFactors</a></li><li data-type='method'><a href="MFKDFDerivedKey.html#.recoverFactor">recoverFactor</a></li><li data-type='method'><a href="MFKDFDerivedKey.html#.recoverFactors">recoverFactors</a></li><li data-type='method'><a href="MFKDFDerivedKey.html#.reconstitute">reconstitute</a></li></ul></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<div id="main">
    
    <h1 class="page-title">MFKDFDerivedKey</h1>
    

    




<section>

<header>
    
        <h2>
        MFKDFDerivedKey
        </h2>
        
            <div class="class-description usertext">Class representing a multi-factor derived key</div>
        
    
</header>

<article>
    
        <div class="container-overview">
        
            

    
    <h2>Constructor</h2>
    

    <h4 class="name" id="MFKDFDerivedKey"><span class="type-signature"></span>new MFKDFDerivedKey<span class="signature">(policy, key, secret, shares, outputs)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_index.js.html">classes/MFKDFDerivedKey/index.js</a>, <a href="classes_MFKDFDerivedKey_index.js.html#line16">line 16</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.8.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    Create a MFKDFDerivedKey object
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>policy</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">The policy for deriving this key</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>key</code></td>
            

            <td class="type">
            
                
<span class="param-type">Buffer</span>


            
            </td>

            

            

            <td class="description last">The value of this derived key</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>secret</code></td>
            

            <td class="type">
            
                
<span class="param-type">Buffer</span>


            
            </td>

            

            

            <td class="description last">The secret (pre-KDF) value of this derived key</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>shares</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;Buffer></span>


            
            </td>

            

            

            <td class="description last">The shares corresponding to the factors of this key</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>outputs</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;Object></span>


            
            </td>

            

            

            <td class="description last">The outputs corresponding to the factors of this key</td>
        </tr>

    
    </tbody>
</table>



















        
        </div>
    

    

    

    
    
    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".ISO97982PassUnilateralAuthSymmetric"><span class="type-signature">(async, static) </span>ISO97982PassUnilateralAuthSymmetric<span class="signature">(challenge, identity)</span><span class="type-signature"> &rarr; {Buffer}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_auth.js.html">classes/MFKDFDerivedKey/auth.js</a>, <a href="classes_MFKDFDerivedKey_auth.js.html#line39">line 39</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.17.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    ISO 9798-2 2-Pass Unilateral Authentication
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// setup multi-factor derived keyconst key = await mfkdf.setup.key([ await mfkdf.setup.factors.password('password') ])// challenger: create random challengeconst challenge = crypto.randomBytes(32)const identity = Buffer.from('Challenger')// responder: generate responseconst response = await key.ISO97982PassUnilateralAuthSymmetric(challenge, identity)// verifier: verify responseconst authKey = await key.ISO9798SymmetricKey()const valid = await mfkdf.auth.VerifyISO97982PassUnilateralAuthSymmetric(challenge, identity, response, authKey) // -> true</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>challenge</code></td>
            

            <td class="type">
            
                
<span class="param-type">Buffer</span>


            
            </td>

            

            

            <td class="description last">The nonce value provided by the challenger</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>identity</code></td>
            

            <td class="type">
            
                
<span class="param-type">Buffer</span>


            
            </td>

            

            

            <td class="description last">The identity of the challenger</td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    The response value
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Buffer</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".ISO97982PassUnilateralAuthAsymmetric"><span class="type-signature">(async, static) </span>ISO97982PassUnilateralAuthAsymmetric<span class="signature">(challenge, identity)</span><span class="type-signature"> &rarr; {Buffer}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_auth.js.html">classes/MFKDFDerivedKey/auth.js</a>, <a href="classes_MFKDFDerivedKey_auth.js.html#line71">line 71</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.17.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    ISO 9798-2 Public Key 2-Pass Unilateral Authentication
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// setup multi-factor derived keyconst key = await mfkdf.setup.key([ await mfkdf.setup.factors.password('password') ])// challenger: create random challengeconst challenge = crypto.randomBytes(32)const identity = Buffer.from('Challenger')// responder: generate responseconst response = await key.ISO97982PassUnilateralAuthAsymmetric(challenge, identity)// verifier: verify responseconst authKey = await key.ISO9798AsymmetricKey()const valid = await mfkdf.auth.VerifyISO97982PassUnilateralAuthAsymmetric(challenge, identity, response, authKey) // -> true</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>challenge</code></td>
            

            <td class="type">
            
                
<span class="param-type">Buffer</span>


            
            </td>

            

            

            <td class="description last">The nonce value provided by the challenger</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>identity</code></td>
            

            <td class="type">
            
                
<span class="param-type">Buffer</span>


            
            </td>

            

            

            <td class="description last">The identity of the challenger</td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    The response value
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Buffer</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".ISO97982PassUnilateralAuthCCF"><span class="type-signature">(async, static) </span>ISO97982PassUnilateralAuthCCF<span class="signature">(challenge, identity)</span><span class="type-signature"> &rarr; {Buffer}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_auth.js.html">classes/MFKDFDerivedKey/auth.js</a>, <a href="classes_MFKDFDerivedKey_auth.js.html#line103">line 103</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.17.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    ISO 9798-2 2-Pass Unilateral Authentication over CCF
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// setup multi-factor derived keyconst key = await mfkdf.setup.key([ await mfkdf.setup.factors.password('password') ])// challenger: create random challengeconst challenge = crypto.randomBytes(32)const identity = Buffer.from('Challenger')// responder: generate responseconst response = await key.ISO97982PassUnilateralAuthCCF(challenge, identity)// verifier: verify responseconst authKey = await key.ISO9798CCFKey()const valid = await mfkdf.auth.VerifyISO97982PassUnilateralAuthCCF(challenge, identity, response, authKey) // -> true</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>challenge</code></td>
            

            <td class="type">
            
                
<span class="param-type">Buffer</span>


            
            </td>

            

            

            <td class="description last">The nonce value provided by the challenger</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>identity</code></td>
            

            <td class="type">
            
                
<span class="param-type">Buffer</span>


            
            </td>

            

            

            <td class="description last">The identity of the challenger</td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    The response value
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Buffer</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".ISO97981PassUnilateralAuthSymmetric"><span class="type-signature">(async, static) </span>ISO97981PassUnilateralAuthSymmetric<span class="signature">(identity)</span><span class="type-signature"> &rarr; {Buffer}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_auth.js.html">classes/MFKDFDerivedKey/auth.js</a>, <a href="classes_MFKDFDerivedKey_auth.js.html#line132">line 132</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.17.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    ISO 9798-2 1-Pass Unilateral Authentication
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// setup multi-factor derived keyconst key = await mfkdf.setup.key([ await mfkdf.setup.factors.password('password') ])const identity = Buffer.from('Challenger')// responder: generate responseconst response = await key.ISO97981PassUnilateralAuthSymmetric(identity)// verifier: verify responseconst authKey = await key.ISO9798SymmetricKey()const valid = await mfkdf.auth.VerifyISO97981PassUnilateralAuthSymmetric(identity, response, authKey) // -> true</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>identity</code></td>
            

            <td class="type">
            
                
<span class="param-type">Buffer</span>


            
            </td>

            

            

            <td class="description last">The identity of the challenger</td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    The response value
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Buffer</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".ISO97981PassUnilateralAuthAsymmetric"><span class="type-signature">(async, static) </span>ISO97981PassUnilateralAuthAsymmetric<span class="signature">(identity)</span><span class="type-signature"> &rarr; {Buffer}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_auth.js.html">classes/MFKDFDerivedKey/auth.js</a>, <a href="classes_MFKDFDerivedKey_auth.js.html#line163">line 163</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.17.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    ISO 9798-2 Public Key 1-Pass Unilateral Authentication
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// setup multi-factor derived keyconst key = await mfkdf.setup.key([ await mfkdf.setup.factors.password('password') ])const identity = Buffer.from('Challenger')// responder: generate responseconst response = await key.ISO97981PassUnilateralAuthAsymmetric(identity)// verifier: verify responseconst authKey = await key.ISO9798AsymmetricKey()const valid = await mfkdf.auth.VerifyISO97981PassUnilateralAuthAsymmetric(identity, response, authKey) // -> true</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>identity</code></td>
            

            <td class="type">
            
                
<span class="param-type">Buffer</span>


            
            </td>

            

            

            <td class="description last">The identity of the challenger</td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    The response value
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Buffer</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".ISO97981PassUnilateralAuthCCF"><span class="type-signature">(async, static) </span>ISO97981PassUnilateralAuthCCF<span class="signature">(identity)</span><span class="type-signature"> &rarr; {Buffer}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_auth.js.html">classes/MFKDFDerivedKey/auth.js</a>, <a href="classes_MFKDFDerivedKey_auth.js.html#line194">line 194</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.17.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    ISO 9798-2 1-Pass Unilateral Authentication over CCF
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// setup multi-factor derived keyconst key = await mfkdf.setup.key([ await mfkdf.setup.factors.password('password') ])const identity = Buffer.from('Challenger')// responder: generate responseconst response = await key.ISO97981PassUnilateralAuthCCF(identity)// verifier: verify responseconst authKey = await key.ISO9798CCFKey()const valid = await mfkdf.auth.VerifyISO97981PassUnilateralAuthCCF(identity, response, authKey) // -> true</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>identity</code></td>
            

            <td class="type">
            
                
<span class="param-type">Buffer</span>


            
            </td>

            

            

            <td class="description last">The identity of the challenger</td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    The response value
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Buffer</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".ISO9798SymmetricKey"><span class="type-signature">(async, static) </span>ISO9798SymmetricKey<span class="signature">()</span><span class="type-signature"> &rarr; {Buffer}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_auth.js.html">classes/MFKDFDerivedKey/auth.js</a>, <a href="classes_MFKDFDerivedKey_auth.js.html#line227">line 227</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.17.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    Get the symmetric key used for ISO 9798-2 Unilateral Authentication
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// setup multi-factor derived keyconst key = await mfkdf.setup.key([ await mfkdf.setup.factors.password('password') ])// challenger: create random challengeconst challenge = crypto.randomBytes(32)const identity = Buffer.from('Challenger')// responder: generate responseconst response = await key.ISO97982PassUnilateralAuthSymmetric(challenge, identity)// verifier: verify responseconst authKey = await key.ISO9798SymmetricKey()const valid = await mfkdf.auth.VerifyISO97982PassUnilateralAuthSymmetric(challenge, identity, response, authKey) // -> true</code></pre>


















<h5>Returns:</h5>

        
<div class="param-desc">
    Symmetric key
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Buffer</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".ISO9798AsymmetricKey"><span class="type-signature">(async, static) </span>ISO9798AsymmetricKey<span class="signature">()</span><span class="type-signature"> &rarr; {Buffer}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_auth.js.html">classes/MFKDFDerivedKey/auth.js</a>, <a href="classes_MFKDFDerivedKey_auth.js.html#line256">line 256</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.17.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    Get the public key used for ISO 9798-2 Public Key Unilateral Authentication
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// setup multi-factor derived keyconst key = await mfkdf.setup.key([ await mfkdf.setup.factors.password('password') ])// challenger: create random challengeconst challenge = crypto.randomBytes(32)const identity = Buffer.from('Challenger')// responder: generate responseconst response = await key.ISO97982PassUnilateralAuthAsymmetric(challenge, identity)// verifier: verify responseconst authKey = await key.ISO9798AsymmetricKey()const valid = await mfkdf.auth.VerifyISO97982PassUnilateralAuthAsymmetric(challenge, identity, response, authKey) // -> true</code></pre>


















<h5>Returns:</h5>

        
<div class="param-desc">
    Public key (spki-der encoded)
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Buffer</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".ISO9798CCFKey"><span class="type-signature">(async, static) </span>ISO9798CCFKey<span class="signature">()</span><span class="type-signature"> &rarr; {Buffer}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_auth.js.html">classes/MFKDFDerivedKey/auth.js</a>, <a href="classes_MFKDFDerivedKey_auth.js.html#line285">line 285</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.17.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    Get the CCF key used for ISO 9798-2 Unilateral Authentication over CCF
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// setup multi-factor derived keyconst key = await mfkdf.setup.key([ await mfkdf.setup.factors.password('password') ])// challenger: create random challengeconst challenge = crypto.randomBytes(32)const identity = Buffer.from('Challenger')// responder: generate responseconst response = await key.ISO97982PassUnilateralAuthCCF(challenge, identity)// verifier: verify responseconst authKey = await key.ISO9798CCFKey()const valid = await mfkdf.auth.VerifyISO97982PassUnilateralAuthCCF(challenge, identity, response, authKey) // -> true</code></pre>


















<h5>Returns:</h5>

        
<div class="param-desc">
    CCF key
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Buffer</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".getSubkey"><span class="type-signature">(async, static) </span>getSubkey<span class="signature">(size<span class="signature-attributes">opt</span>, purpose<span class="signature-attributes">opt</span>, digest<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Buffer}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_crypto.js.html">classes/MFKDFDerivedKey/crypto.js</a>, <a href="classes_MFKDFDerivedKey_crypto.js.html#line42">line 42</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.10.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    Create a sub-key of specified size and purpose using HKDF
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// setup multi-factor derived keyconst key = await mfkdf.setup.key([ await mfkdf.setup.factors.password('password') ])// get 16-byte sub-key for "eth" using hkdf/sha256const subkey = await key.getSubkey(16, 'eth', 'sha256')subkey.toString('hex') // -> 54ad9e5acbc1c33b08a15dd79126e9c9</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>size</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">The size of sub-key to derive in bytes; same as base key by default</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>purpose</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>''</code>
                
                </td>
            

            <td class="description last">Factors used to derive this key</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>digest</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>'sha512'</code>
                
                </td>
            

            <td class="description last">HKDF digest to use; sha1, sha256, sha384, or sha512</td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    Derived sub-key
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Buffer</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".getSymmetricKey"><span class="type-signature">(async, static) </span>getSymmetricKey<span class="signature">(type<span class="signature-attributes">opt</span>, auth<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Buffer}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_crypto.js.html">classes/MFKDFDerivedKey/crypto.js</a>, <a href="classes_MFKDFDerivedKey_crypto.js.html#line67">line 67</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.10.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    Create a symmetric sub-key of specified type
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// setup multi-factor derived keyconst key = await mfkdf.setup.key([ await mfkdf.setup.factors.password('password') ])// get 16-byte AES128 sub-keyconst subkey = await key.getSymmetricKey('aes128')subkey.toString('hex') // -> c985454e008e5ecc695e865d339cb2be</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>type</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>'aes256'</code>
                
                </td>
            

            <td class="description last">Type of key to generate; des, 3des, aes128, aes192, or aes256</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>auth</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>false</code>
                
                </td>
            

            <td class="description last">Whether this is being used for authentication</td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    Derived sub-key as a Buffer
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Buffer</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".getAsymmetricKeyPair"><span class="type-signature">(async, static) </span>getAsymmetricKeyPair<span class="signature">(type<span class="signature-attributes">opt</span>, auth<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_crypto.js.html">classes/MFKDFDerivedKey/crypto.js</a>, <a href="classes_MFKDFDerivedKey_crypto.js.html#line103">line 103</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.11.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    Create an asymmetric sub-key pair of specified type
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// setup multi-factor derived keyconst key = await mfkdf.setup.key([ await mfkdf.setup.factors.password('password') ])// get 16-byte RSA1024 sub-keyconst subkey = await key.getAsymmetricKeyPair('rsa1024') // -> { privateKey: Uint8Array, publicKey: Uint8Array }</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>type</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>'rsa3072'</code>
                
                </td>
            

            <td class="description last">Type of key to generate; ed25519, rsa1024, rsa2048, or rsa3072</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>auth</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>false</code>
                
                </td>
            

            <td class="description last">Whether this is being used for authentication</td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    Public key (spki-der encoded) and private key (pkcs8-der encoded)
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".sign"><span class="type-signature">(async, static) </span>sign<span class="signature">(message, method<span class="signature-attributes">opt</span>, auth<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Buffer}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_crypto.js.html">classes/MFKDFDerivedKey/crypto.js</a>, <a href="classes_MFKDFDerivedKey_crypto.js.html#line146">line 146</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.11.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    Sign a message with this key
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// setup multi-factor derived keyconst key = await mfkdf.setup.key([ await mfkdf.setup.factors.password('password') ])// sign message using RSA-1024const signature = await key.sign('hello world', 'rsa1024')// verify signature using RSA-1024const valid = await key.verify('hello world', signature, 'rsa1024') // -> true</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>message</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Buffer</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">The message to sign</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>method</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>'rsa3072'</code>
                
                </td>
            

            <td class="description last">Signature method to use; rsa1024, rsa2048, or rsa3072</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>auth</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>false</code>
                
                </td>
            

            <td class="description last">Whether this is being used for authentication</td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    The signed message
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Buffer</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".verify"><span class="type-signature">(async, static) </span>verify<span class="signature">(message, signature, method<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_crypto.js.html">classes/MFKDFDerivedKey/crypto.js</a>, <a href="classes_MFKDFDerivedKey_crypto.js.html#line182">line 182</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.11.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    Verify a message signed with this key
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// setup multi-factor derived keyconst key = await mfkdf.setup.key([ await mfkdf.setup.factors.password('password') ])// sign message using RSA-1024const signature = await key.sign('hello world', 'rsa1024')// verify signature using RSA-1024const valid = await key.verify('hello world', signature, 'rsa1024') // -> true</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>message</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Buffer</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">The message this signature corresponds to</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>signature</code></td>
            

            <td class="type">
            
                
<span class="param-type">Buffer</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">The signature to verify</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>method</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>'rsa3072'</code>
                
                </td>
            

            <td class="description last">Signature method to use; rsa1024, rsa2048, or rsa3072</td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    Whether the signature is valid
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".encrypt"><span class="type-signature">(async, static) </span>encrypt<span class="signature">(message, method<span class="signature-attributes">opt</span>, mode<span class="signature-attributes">opt</span>, auth<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Buffer}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_crypto.js.html">classes/MFKDFDerivedKey/crypto.js</a>, <a href="classes_MFKDFDerivedKey_crypto.js.html#line218">line 218</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.10.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    Encrypt a message with this key
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// setup multi-factor derived keyconst key = await mfkdf.setup.key([ await mfkdf.setup.factors.password('password') ])// encrypt message using 3DESconst encrypted = await key.encrypt('hello world', '3des')// decrypt message using 3DESconst decrypted = await key.decrypt(encrypted, '3des')decrypted.toString() // -> hello world</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>message</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Buffer</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">The message to encrypt</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>method</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>'aes256'</code>
                
                </td>
            

            <td class="description last">Encryption method to use; rsa1024, rsa2048, des, 3des, aes128, aes192, or aes256</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>mode</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>'CBC'</code>
                
                </td>
            

            <td class="description last">Encryption mode to use; ECB, CFB, OFB, GCM, CTR, or CBC</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>auth</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>false</code>
                
                </td>
            

            <td class="description last">Whether this is being used for authentication</td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    The encrypted message
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Buffer</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".decrypt"><span class="type-signature">(async, static) </span>decrypt<span class="signature">(message, method<span class="signature-attributes">opt</span>, mode<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Buffer}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_crypto.js.html">classes/MFKDFDerivedKey/crypto.js</a>, <a href="classes_MFKDFDerivedKey_crypto.js.html#line280">line 280</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.10.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    Decrypt a message with this key
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// setup multi-factor derived keyconst key = await mfkdf.setup.key([ await mfkdf.setup.factors.password('password') ])// encrypt message using 3DESconst encrypted = await key.encrypt('hello world', '3des')// decrypt message using 3DESconst decrypted = await key.decrypt(encrypted, '3des')decrypted.toString() // -> hello world</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>message</code></td>
            

            <td class="type">
            
                
<span class="param-type">Buffer</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">The message to decrypt</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>method</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>'aes256'</code>
                
                </td>
            

            <td class="description last">Decryption method to use; des, 3des, aes128, aes192, or aes256</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>mode</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>'CBC'</code>
                
                </td>
            

            <td class="description last">Decryption mode to use; ECB, CFB, OFB, GCM, CTR, or CBC</td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    The decrypted message
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Buffer</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".addEnvelopedSecret"><span class="type-signature">(async, static) </span>addEnvelopedSecret<span class="signature">(id, value, type<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_envelope.js.html">classes/MFKDFDerivedKey/envelope.js</a>, <a href="classes_MFKDFDerivedKey_envelope.js.html#line38">line 38</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.20.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    Add enveloped secret to a multi-factor derived key
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// setup multi-factor derived keyconst key = await mfkdf.setup.key([ await mfkdf.setup.factors.password('password') ])// add enveloped secret to keyawait key.addEnvelopedSecret('mySecret', Buffer.from('hello world'))// later... derive keyconst derived = await mfkdf.derive.key(key.policy, { password: mfkdf.derive.factors.password('password') })// retrieve secretconst secret = await derived.getEnvelopedSecret('mySecret')secret.toString() // -> hello world</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">String which uniquely identifies the enveloped secret to add</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">Buffer</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">The plaintext secret value to be encrypted with this key</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>type</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>'raw'</code>
                
                </td>
            

            <td class="description last">The type of the enveloped secret to add</td>
        </tr>

    
    </tbody>
</table>



















        
            

    

    <h4 class="name" id=".hasEnvelopedSecret"><span class="type-signature">(static) </span>hasEnvelopedSecret<span class="signature">(id)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_envelope.js.html">classes/MFKDFDerivedKey/envelope.js</a>, <a href="classes_MFKDFDerivedKey_envelope.js.html#line83">line 83</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.20.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    Check if multi-factor derived key has enveloped secret with id
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// setup multi-factor derived keyconst key = await mfkdf.setup.key([ await mfkdf.setup.factors.password('password') ])// add enveloped secret to keyawait key.addEnvelopedSecret('mySecret', Buffer.from('hello world'))// later... derive keyconst derived = await mfkdf.derive.key(key.policy, { password: mfkdf.derive.factors.password('password') })// check secretconst check1 = derived.hasEnvelopedSecret('mySecret') // -> true// remove secretderived.removeEnvelopedSecret('mySecret')// check secretconst check2 = derived.hasEnvelopedSecret('mySecret') // -> false</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">String which uniquely identifies the enveloped secret</td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    - Whether the key has enveloped secret with given id
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".removeEnvelopedSecret"><span class="type-signature">(static) </span>removeEnvelopedSecret<span class="signature">(id)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_envelope.js.html">classes/MFKDFDerivedKey/envelope.js</a>, <a href="classes_MFKDFDerivedKey_envelope.js.html#line117">line 117</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.20.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    Remove enveloped secret from a multi-factor derived key
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// setup multi-factor derived keyconst key = await mfkdf.setup.key([ await mfkdf.setup.factors.password('password') ])// add enveloped secret to keyawait key.addEnvelopedSecret('mySecret', Buffer.from('hello world'))// later... derive keyconst derived = await mfkdf.derive.key(key.policy, { password: mfkdf.derive.factors.password('password') })// check secretconst check1 = derived.hasEnvelopedSecret('mySecret') // -> true// remove secretderived.removeEnvelopedSecret('mySecret')// check secretconst check2 = derived.hasEnvelopedSecret('mySecret') // -> false</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">ID of the enveloped secret to remove</td>
        </tr>

    
    </tbody>
</table>



















        
            

    

    <h4 class="name" id=".addEnvelopedKey"><span class="type-signature">(async, static) </span>addEnvelopedKey<span class="signature">(id, type<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_envelope.js.html">classes/MFKDFDerivedKey/envelope.js</a>, <a href="classes_MFKDFDerivedKey_envelope.js.html#line147">line 147</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.20.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    Add enveloped key to a multi-factor derived key
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// setup multi-factor derived keyconst key = await mfkdf.setup.key([ await mfkdf.setup.factors.password('password') ])// add enveloped rsa1024 keyawait key.addEnvelopedKey('myKey', 'rsa1024')// later... derive keyconst derived = await mfkdf.derive.key(key.policy, { password: mfkdf.derive.factors.password('password') })// retrieve enveloped keyconst enveloped = await derived.getEnvelopedKey('myKey') // -> PrivateKeyObject</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">String which uniquely identifies the enveloped key to add</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>type</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>'rsa1024'</code>
                
                </td>
            

            <td class="description last">The type of the enveloped key to add; rsa1024, rsa2048, or ed25519</td>
        </tr>

    
    </tbody>
</table>



















        
            

    

    <h4 class="name" id=".getEnvelopedSecret"><span class="type-signature">(async, static) </span>getEnvelopedSecret<span class="signature">(id)</span><span class="type-signature"> &rarr; {Buffer}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_envelope.js.html">classes/MFKDFDerivedKey/envelope.js</a>, <a href="classes_MFKDFDerivedKey_envelope.js.html#line202">line 202</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.20.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    Get enveloped secret from a multi-factor derived key
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// setup multi-factor derived keyconst key = await mfkdf.setup.key([ await mfkdf.setup.factors.password('password') ])// add enveloped secret to keyawait key.addEnvelopedSecret('mySecret', Buffer.from('hello world'))// later... derive keyconst derived = await mfkdf.derive.key(key.policy, { password: mfkdf.derive.factors.password('password') })// retrieve secretconst secret = await derived.getEnvelopedSecret('mySecret')secret.toString() // -> hello world</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">ID of the enveloped secret to get</td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    The retrieved plaintext secret value
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Buffer</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".getEnvelopedKey"><span class="type-signature">(async, static) </span>getEnvelopedKey<span class="signature">(id)</span><span class="type-signature"> &rarr; {PrivateKeyObject}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_envelope.js.html">classes/MFKDFDerivedKey/envelope.js</a>, <a href="classes_MFKDFDerivedKey_envelope.js.html#line234">line 234</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.20.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    Get enveloped secret from a multi-factor derived key
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// setup multi-factor derived keyconst key = await mfkdf.setup.key([ await mfkdf.setup.factors.password('password') ])// add enveloped rsa1024 keyawait key.addEnvelopedKey('myKey', 'rsa1024')// later... derive keyconst derived = await mfkdf.derive.key(key.policy, { password: mfkdf.derive.factors.password('password') })// retrieve enveloped keyconst enveloped = await derived.getEnvelopedKey('myKey') // -> PrivateKeyObject</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">ID of the enveloped key to get</td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    The retrieved enveloped key
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">PrivateKeyObject</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".persistFactor"><span class="type-signature">(static) </span>persistFactor<span class="signature">(id)</span><span class="type-signature"> &rarr; {Buffer}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_persistence.js.html">classes/MFKDFDerivedKey/persistence.js</a>, <a href="classes_MFKDFDerivedKey_persistence.js.html#line41">line 41</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.18.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    Persist material from an MFKDF factor to bypass it in future derivation
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// setup 3-factor multi-factor derived keyconst setup = await mfkdf.setup.key([ await mfkdf.setup.factors.password('password1', { id: 'password1' }), await mfkdf.setup.factors.password('password2', { id: 'password2' }), await mfkdf.setup.factors.password('password3', { id: 'password3' })], {size: 8})// persist one of the factorsconst factor2 = setup.persistFactor('password2')// derive key with 2 factorsconst derived = await mfkdf.derive.key(setup.policy, { password1: mfkdf.derive.factors.password('password1'), password2: mfkdf.derive.factors.persisted(factor2), password3: mfkdf.derive.factors.password('password3')})setup.key.toString('hex') // -> 64587f2a0e65dc3cderived.key.toString('hex') // -> 64587f2a0e65dc3c</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">ID of the factor to persist</td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    - The share which can be used to bypass the factor
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Buffer</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".setThreshold"><span class="type-signature">(async, static) </span>setThreshold<span class="signature">(threshold)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_reconstitution.js.html">classes/MFKDFDerivedKey/reconstitution.js</a>, <a href="classes_MFKDFDerivedKey_reconstitution.js.html#line44">line 44</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.14.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    Change the threshold of factors needed to derive a multi-factor derived key
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// setup 3-factor multi-factor derived keyconst setup = await mfkdf.setup.key([ await mfkdf.setup.factors.password('password1', { id: 'password1' }), await mfkdf.setup.factors.password('password2', { id: 'password2' }), await mfkdf.setup.factors.password('password3', { id: 'password3' })], {size: 8})// change threshold to 2/3await setup.setThreshold(2)// derive key with 2 factorsconst derived = await mfkdf.derive.key(setup.policy, { password1: mfkdf.derive.factors.password('password1'), password3: mfkdf.derive.factors.password('password3')})setup.key.toString('hex') // -> 64587f2a0e65dc3cderived.key.toString('hex') // -> 64587f2a0e65dc3c</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>threshold</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">New threshold for key derivation</td>
        </tr>

    
    </tbody>
</table>



















        
            

    

    <h4 class="name" id=".removeFactor"><span class="type-signature">(async, static) </span>removeFactor<span class="signature">(id)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_reconstitution.js.html">classes/MFKDFDerivedKey/reconstitution.js</a>, <a href="classes_MFKDFDerivedKey_reconstitution.js.html#line78">line 78</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.14.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    Remove a factor used to derive a multi-factor derived key
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// setup 2-of-3-factor multi-factor derived keyconst setup = await mfkdf.setup.key([ await mfkdf.setup.factors.password('password1', { id: 'password1' }), await mfkdf.setup.factors.password('password2', { id: 'password2' }), await mfkdf.setup.factors.password('password3', { id: 'password3' })], {size: 8, threshold: 2})// remove one of the factorsawait setup.removeFactor('password2')// derive key with remaining 2 factorsconst derived = await mfkdf.derive.key(setup.policy, { password1: mfkdf.derive.factors.password('password1'), password3: mfkdf.derive.factors.password('password3')})setup.key.toString('hex') // -> 64587f2a0e65dc3cderived.key.toString('hex') // -> 64587f2a0e65dc3c</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">ID of existing factor to remove</td>
        </tr>

    
    </tbody>
</table>



















        
            

    

    <h4 class="name" id=".removeFactors"><span class="type-signature">(async, static) </span>removeFactors<span class="signature">(ids)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_reconstitution.js.html">classes/MFKDFDerivedKey/reconstitution.js</a>, <a href="classes_MFKDFDerivedKey_reconstitution.js.html#line111">line 111</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.14.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    Remove factors used to derive a multi-factor derived key
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// setup 1-of-3-factor multi-factor derived keyconst setup = await mfkdf.setup.key([ await mfkdf.setup.factors.password('password1', { id: 'password1' }), await mfkdf.setup.factors.password('password2', { id: 'password2' }), await mfkdf.setup.factors.password('password3', { id: 'password3' })], {size: 8, threshold: 1})// remove two factorsawait setup.removeFactors(['password1', 'password2'])// derive key with remaining factorconst derived = await mfkdf.derive.key(setup.policy, { password3: mfkdf.derive.factors.password('password3')})setup.key.toString('hex') // -> 64587f2a0e65dc3cderived.key.toString('hex') // -> 64587f2a0e65dc3c</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ids</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last">Array of IDs of existing factors to remove</td>
        </tr>

    
    </tbody>
</table>



















        
            

    

    <h4 class="name" id=".addFactor"><span class="type-signature">(async, static) </span>addFactor<span class="signature">(factor)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_reconstitution.js.html">classes/MFKDFDerivedKey/reconstitution.js</a>, <a href="classes_MFKDFDerivedKey_reconstitution.js.html#line147">line 147</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.14.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    Add a factor used to derive a multi-factor derived key
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// setup 2-of-3-factor multi-factor derived keyconst setup = await mfkdf.setup.key([ await mfkdf.setup.factors.password('password1', { id: 'password1' }), await mfkdf.setup.factors.password('password2', { id: 'password2' }), await mfkdf.setup.factors.password('password3', { id: 'password3' })], {size: 8, threshold: 2})// add fourth factorawait setup.addFactor( await mfkdf.setup.factors.password('password4', { id: 'password4' }))// derive key with any 2 factorsconst derived = await mfkdf.derive.key(setup.policy, { password2: mfkdf.derive.factors.password('password2'), password4: mfkdf.derive.factors.password('password4')})setup.key.toString('hex') // -> 64587f2a0e65dc3cderived.key.toString('hex') // -> 64587f2a0e65dc3c</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>factor</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#MFKDFFactor">MFKDFFactor</a></span>


            
            </td>

            

            

            <td class="description last">Factor to add</td>
        </tr>

    
    </tbody>
</table>



















        
            

    

    <h4 class="name" id=".addFactors"><span class="type-signature">(async, static) </span>addFactors<span class="signature">(factors)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_reconstitution.js.html">classes/MFKDFDerivedKey/reconstitution.js</a>, <a href="classes_MFKDFDerivedKey_reconstitution.js.html#line184">line 184</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.14.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    Add new factors to derive a multi-factor derived key
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// setup 2-of-3-factor multi-factor derived keyconst setup = await mfkdf.setup.key([  await mfkdf.setup.factors.password('password1', { id: 'password1' }),  await mfkdf.setup.factors.password('password2', { id: 'password2' }),  await mfkdf.setup.factors.password('password3', { id: 'password3' })], {size: 8, threshold: 2})// add two more factorsawait setup.addFactors([  await mfkdf.setup.factors.password('password4', { id: 'password4' }),  await mfkdf.setup.factors.password('password5', { id: 'password5' })])// derive key with any 2 factorsconst derived = await mfkdf.derive.key(setup.policy, {  password3: mfkdf.derive.factors.password('password3'),  password5: mfkdf.derive.factors.password('password5')})setup.key.toString('hex') // -> 64587f2a0e65dc3cderived.key.toString('hex') // -> 64587f2a0e65dc3c</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>factors</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="global.html#MFKDFFactor">MFKDFFactor</a>></span>


            
            </td>

            

            

            <td class="description last">Array of factors to add</td>
        </tr>

    
    </tbody>
</table>



















        
            

    

    <h4 class="name" id=".recoverFactor"><span class="type-signature">(async, static) </span>recoverFactor<span class="signature">(factor)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_reconstitution.js.html">classes/MFKDFDerivedKey/reconstitution.js</a>, <a href="classes_MFKDFDerivedKey_reconstitution.js.html#line221">line 221</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.14.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    Update a factor used to derive a multi-factor derived key
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// setup 3-factor multi-factor derived keyconst setup = await mfkdf.setup.key([ await mfkdf.setup.factors.password('password1', { id: 'password1' }), await mfkdf.setup.factors.password('password2', { id: 'password2' }), await mfkdf.setup.factors.password('password3', { id: 'password3' })], {size: 8})// change the 2nd factorawait setup.recoverFactor( await mfkdf.setup.factors.password('newPassword2', { id: 'password2' }))// derive key with new factorsconst derived = await mfkdf.derive.key(setup.policy, { password1: mfkdf.derive.factors.password('password1'), password2: mfkdf.derive.factors.password('newPassword2'), password3: mfkdf.derive.factors.password('password3')})setup.key.toString('hex') // -> 64587f2a0e65dc3cderived.key.toString('hex') // -> 64587f2a0e65dc3c</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>factor</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#MFKDFFactor">MFKDFFactor</a></span>


            
            </td>

            

            

            <td class="description last">Factor to replace</td>
        </tr>

    
    </tbody>
</table>



















        
            

    

    <h4 class="name" id=".recoverFactors"><span class="type-signature">(async, static) </span>recoverFactors<span class="signature">(factors)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_reconstitution.js.html">classes/MFKDFDerivedKey/reconstitution.js</a>, <a href="classes_MFKDFDerivedKey_reconstitution.js.html#line259">line 259</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.14.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    Update the factors used to derive a multi-factor derived key
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// setup 3-factor multi-factor derived keyconst setup = await mfkdf.setup.key([ await mfkdf.setup.factors.password('password1', { id: 'password1' }), await mfkdf.setup.factors.password('password2', { id: 'password2' }), await mfkdf.setup.factors.password('password3', { id: 'password3' })], {size: 8})// change 2 factorsawait setup.recoverFactors([ await mfkdf.setup.factors.password('newPassword2', { id: 'password2' }), await mfkdf.setup.factors.password('newPassword3', { id: 'password3' })])// derive key with new factorsconst derived = await mfkdf.derive.key(setup.policy, { password1: mfkdf.derive.factors.password('password1'), password2: mfkdf.derive.factors.password('newPassword2'), password3: mfkdf.derive.factors.password('newPassword3')})setup.key.toString('hex') // -> 64587f2a0e65dc3cderived.key.toString('hex') // -> 64587f2a0e65dc3c</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>factors</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="global.html#MFKDFFactor">MFKDFFactor</a>></span>


            
            </td>

            

            

            <td class="description last">Array of factors to replace</td>
        </tr>

    
    </tbody>
</table>



















        
            

    

    <h4 class="name" id=".reconstitute"><span class="type-signature">(async, static) </span>reconstitute<span class="signature">(removeFactors<span class="signature-attributes">opt</span>, addFactors<span class="signature-attributes">opt</span>, threshold<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="classes_MFKDFDerivedKey_reconstitution.js.html">classes/MFKDFDerivedKey/reconstitution.js</a>, <a href="classes_MFKDFDerivedKey_reconstitution.js.html#line298">line 298</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.14.0</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Vivek Nair (https://nair.me) &lt;vivek@nair.me></li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    Reconstitute the factors used to derive a multi-factor derived key
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// setup 2-of-3-factor multi-factor derived keyconst setup = await mfkdf.setup.key([  await mfkdf.setup.factors.password('password1', { id: 'password1' }),  await mfkdf.setup.factors.password('password2', { id: 'password2' }),  await mfkdf.setup.factors.password('password3', { id: 'password3' })], {size: 8, threshold: 2})// remove 1 factor and add 1 new factorawait setup.reconstitute(  ['password1'], // remove  [ await mfkdf.setup.factors.password('password4', { id: 'password4' }) ] // add)// derive key with new factorsconst derived = await mfkdf.derive.key(setup.policy, {  password3: mfkdf.derive.factors.password('password3'),  password4: mfkdf.derive.factors.password('password4')})setup.key.toString('hex') // -> 64587f2a0e65dc3cderived.key.toString('hex') // -> 64587f2a0e65dc3c</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>removeFactors</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Array of IDs of existing factors to remove</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>addFactors</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="global.html#MFKDFFactor">MFKDFFactor</a>></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Array of factors to add or replace</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>threshold</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">New threshold for key derivation; same as current by default</td>
        </tr>

    
    </tbody>
</table>



















        
    

    

    
</article>

</section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.10</a> on Fri Jun 10 2022 15:54:18 GMT-0700 (Pacific Daylight Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <link type="text/css" rel="stylesheet" href="../docs.css">
    
    <script src="../docs.js"></script>
    
</body>
</html>